const fs = require('fs');
const path = require('path');

// Read the locations.json file
const locationsFilePath = path.join(__dirname, 'data', 'locations.json');
const locationsData = JSON.parse(fs.readFileSync(locationsFilePath, 'utf8'));

// Postcode mapping for each area
const postcodeMapping = {
  'manchester': 'M1-M99',
  'liverpool': 'L1-L99',
  'leeds': 'LS1-LS99',
  'sheffield': 'S1-S99',
  'york': 'YO1-YO99',
  'chester': 'CH1-CH99',
  'stoke-on-trent': 'ST1-ST99',
  'preston': 'PR1-PR99',
  'huddersfield': 'HD1-HD99',
  'bradford': 'BD1-BD99',
  'blackpool': 'FY1-FY99',
  'wigan': 'WN1-WN99',
  'bolton': 'BL1-BL99',
  'oldham': 'OL1-OL99',
  'rochdale': 'OL1-OL99',
  'bury': 'BL9-BL9',
  'stockport': 'SK1-SK99',
  'salford': 'M1-M99',
  'trafford': 'M1-M99',
  'wythenshawe': 'M22-M23',
  'altrincham': 'WA14-WA15',
  'sale': 'M33',
  'ashton-under-lyne': 'OL6-OL7',
  'hyde': 'SK14',
  'glossop': 'SK13',
  'buxton': 'SK17',
  'macclesfield': 'SK10-SK11',
  'wilmslow': 'SK9',
  'knutsford': 'WA16',
  'northwich': 'CW8-CW9',
  'middlewich': 'CW10',
  'crewe': 'CW1-CW3',
  'nantwich': 'CW5',
  'congleton': 'CW12',
  'sandbach': 'CW11',
  'warrington': 'WA1-WA5',
  'widnes': 'WA8',
  'runcorn': 'WA7',
  'frodsham': 'WA6',
  'chester': 'CH1-CH4',
  'ellesmere-port': 'CH65-CH66',
  'northwich': 'CW8-CW9',
  'middlewich': 'CW10',
  'crewe': 'CW1-CW3',
  'nantwich': 'CW5',
  'congleton': 'CW12',
  'sandbach': 'CW11',
  'warrington': 'WA1-WA5',
  'widnes': 'WA8',
  'runcorn': 'WA7',
  'frodsham': 'WA6',
  'chester': 'CH1-CH4',
  'ellesmere-port': 'CH65-CH66',
  'birkenhead': 'CH41-CH42',
  'wallasey': 'CH44-CH46',
  'bebington': 'CH63',
  'bromborough': 'CH62',
  'hoylake': 'CH47-CH48',
  'west-kirby': 'CH48',
  'new-ferry': 'CH62',
  'port-sunlight': 'CH62',
  'rock-ferry': 'CH42',
  'tranmere': 'CH42',
  'prenton': 'CH43',
  'oxton': 'CH43',
  'upton': 'CH49',
  'moreton': 'CH46',
  'leasowe': 'CH46',
  'meols': 'CH47',
  'heswall': 'CH60',
  'neston': 'CH64',
  'deeside': 'CH5',
  'mold': 'CH7',
  'wrexham': 'LL11-LL14',
  'rhyl': 'LL18',
  'prestatyn': 'LL19',
  'colwyn-bay': 'LL28-LL29',
  'llandudno': 'LL30',
  'bangor': 'LL57',
  'caernarfon': 'LL55',
  'holyhead': 'LL65',
  'anglesey': 'LL58-LL77',
  'gwynedd': 'LL40-LL56',
  'conwy': 'LL31-LL32',
  'denbighshire': 'LL15-LL21',
  'flintshire': 'CH4-CH8',
  'wrexham': 'LL11-LL14',
  'powys': 'LD1-LD8, SY15-SY25',
  'ceredigion': 'SA44-SA48, SY23-SY25',
  'pembrokeshire': 'SA61-SA73',
  'carmarthenshire': 'SA14-SA33',
  'swansea': 'SA1-SA9',
  'neath-port-talbot': 'SA10-SA13',
  'bridgend': 'CF31-CF36',
  'vale-of-glamorgan': 'CF61-CF71',
  'cardiff': 'CF1-CF24',
  'caerphilly': 'CF81-CF83',
  'rhondda-cynon-taf': 'CF37-CF48',
  'merthyr-tydfil': 'CF47-CF48',
  'blaenau-gwent': 'NP13-NP23',
  'torfaen': 'NP4',
  'monmouthshire': 'NP7-NP26',
  'newport': 'NP1-NP20',
  'cardiff': 'CF1-CF24',
  'caerphilly': 'CF81-CF83',
  'rhondda-cynon-taf': 'CF37-CF48',
  'merthyr-tydfil': 'CF47-CF48',
  'blaenau-gwent': 'NP13-NP23',
  'torfaen': 'NP4',
  'monmouthshire': 'NP7-NP26',
  'newport': 'NP1-NP20',
  'bristol': 'BS1-BS16',
  'bath': 'BA1-BA3',
  'weston-super-mare': 'BS22-BS24',
  'clevedon': 'BS21',
  'portishead': 'BS20',
  'nailsea': 'BS48',
  'yate': 'BS37',
  'chippenham': 'SN14-SN15',
  'swindon': 'SN1-SN6',
  'gloucester': 'GL1-GL4',
  'cheltenham': 'GL50-GL56',
  'tewkesbury': 'GL20',
  'stroud': 'GL5-GL6',
  'cirencester': 'GL7',
  'newent': 'GL18',
  'coleford': 'GL16',
  'lydney': 'GL15',
  'hereford': 'HR1-HR9',
  'ledbury': 'HR8',
  'ross-on-wye': 'HR9',
  'bromyard': 'HR7',
  'leominster': 'HR6',
  'kington': 'HR5',
  'worcester': 'WR1-WR9',
  'malvern': 'WR13-WR14',
  'droitwich': 'WR9',
  'evesham': 'WR11',
  'pershore': 'WR10',
  'redditch': 'B96-B98',
  'bromsgrove': 'B60-B61',
  'kidderminster': 'DY10-DY11',
  'stourport-on-severn': 'DY13',
  'bewdley': 'DY12',
  'tenbury-wells': 'WR15',
  'birmingham': 'B1-B99',
  'coventry': 'CV1-CV12',
  'solihull': 'B90-B94',
  'warwick': 'CV34-CV35',
  'leamington-spa': 'CV31-CV33',
  'stratford-upon-avon': 'CV37',
  'rugby': 'CV21-CV23',
  'nuneaton': 'CV10-CV13',
  'bedworth': 'CV12',
  'hinckley': 'LE10',
  'tamworth': 'B77-B79',
  'lichfield': 'WS13-WS14',
  'burton-upon-trent': 'DE13-DE15',
  'swadlincote': 'DE11',
  'derby': 'DE1-DE24',
  'belper': 'DE56',
  'ripley': 'DE5',
  'alfreton': 'DE55',
  'chesterfield': 'S40-S45',
  'matlock': 'DE4',
  'buxton': 'SK17',
  'glossop': 'SK13',
  'sheffield': 'S1-S99',
  'rotherham': 'S60-S66',
  'doncaster': 'DN1-DN12',
  'barnsley': 'S70-S75',
  'worksop': 'S80-S81',
  'retford': 'DN22',
  'gainsborough': 'DN21',
  'scunthorpe': 'DN15-DN17',
  'grimsby': 'DN31-DN37',
  'cleethorpes': 'DN35',
  'lincoln': 'LN1-LN6',
  'grantham': 'NG31-NG33',
  'sleaford': 'NG34',
  'boston': 'PE21',
  'spalding': 'PE11-PE12',
  'peterborough': 'PE1-PE8',
  'huntingdon': 'PE28-PE29',
  'st-neots': 'PE19',
  'st-ives': 'PE27',
  'ely': 'CB6-CB7',
  'cambridge': 'CB1-CB5',
  'newmarket': 'CB8',
  'mildenhall': 'IP28',
  'thetford': 'IP24-IP26',
  'diss': 'IP22',
  'norwich': 'NR1-NR35',
  'great-yarmouth': 'NR30-NR31',
  'lowestoft': 'NR32-NR33',
  'beccles': 'NR34',
  'bungay': 'NR35',
  'ipswich': 'IP1-IP9',
  'felixstowe': 'IP11',
  'harwich': 'CO12',
  'colchester': 'CO1-CO7',
  'clacton-on-sea': 'CO15-CO16',
  'frinton-on-sea': 'CO13',
  'walton-on-the-naze': 'CO14',
  'brightlingsea': 'CO7',
  'maldon': 'CM9',
  'chelmsford': 'CM1-CM3',
  'brentwood': 'CM13-CM15',
  'basildon': 'SS13-SS16',
  'southend-on-sea': 'SS0-SS9',
  'rayleigh': 'SS6',
  'wickford': 'SS11-SS12',
  'canvey-island': 'SS8',
  'benfleet': 'SS7',
  'grays': 'RM16-RM20',
  'tilbury': 'RM18',
  'dagenham': 'RM8-RM10',
  'romford': 'RM1-RM7',
  'hornchurch': 'RM11-RM12',
  'upminster': 'RM14',
  'brentwood': 'CM13-CM15',
  'harlow': 'CM17-CM20',
  'bishop\'s-stortford': 'CM23',
  'saffron-walden': 'CB10-CB11',
  'haverhill': 'CB9',
  'sudbury': 'CO10',
  'bury-st-edmunds': 'IP28-IP33',
  'stowmarket': 'IP14',
  'ipswich': 'IP1-IP9',
  'lowestoft': 'NR32-NR33',
  'great-yarmouth': 'NR30-NR31',
  'norwich': 'NR1-NR35',
  'king\'s-lynn': 'PE30-PE32',
  'wisbech': 'PE13-PE14',
  'peterborough': 'PE1-PE8',
  'huntingdon': 'PE28-PE29',
  'st-neots': 'PE19',
  'bedford': 'MK40-MK45',
  'luton': 'LU1-LU7',
  'dunstable': 'LU5-LU6',
  'leighton-buzzard': 'LU7',
  'milton-keynes': 'MK1-MK17',
  'northampton': 'NN1-NN7',
  'wellingborough': 'NN8-NN9',
  'kettering': 'NN14-NN16',
  'corby': 'NN17-NN18',
  'rushden': 'NN10',
  'daventry': 'NN11',
  'towcester': 'NN12',
  'brackley': 'NN13',
  'banbury': 'OX16-OX17',
  'bicester': 'OX25-OX27',
  'witney': 'OX28-OX29',
  'oxford': 'OX1-OX4',
  'abingdon': 'OX14',
  'didcot': 'OX11',
  'wallingford': 'OX10',
  'henley-on-thames': 'RG9',
  'reading': 'RG1-RG8',
  'wokingham': 'RG40-RG41',
  'bracknell': 'RG12',
  'ascot': 'SL5',
  'maidenhead': 'SL6',
  'windsor': 'SL4',
  'slough': 'SL1-SL3',
  'high-wycombe': 'HP10-HP15',
  'amersham': 'HP6-HP7',
  'chesham': 'HP5',
  'aylesbury': 'HP20-HP22',
  'wendover': 'HP22',
  'tring': 'HP23',
  'berkhamsted': 'HP4',
  'hemel-hempstead': 'HP1-HP3',
  'watford': 'WD1-WD25',
  'st-albans': 'AL1-AL4',
  'hatfield': 'AL9-AL10',
  'welwyn-garden-city': 'AL7-AL8',
  'hertford': 'SG13-SG14',
  'ware': 'SG12',
  'bishops-stortford': 'CM23',
  'sawbridgeworth': 'CM21',
  'harlow': 'CM17-CM20',
  'epping': 'CM16',
  'brentwood': 'CM13-CM15',
  'basildon': 'SS13-SS16',
  'southend-on-sea': 'SS0-SS9',
  'chelmsford': 'CM1-CM3',
  'colchester': 'CO1-CO7',
  'ipswich': 'IP1-IP9',
  'norwich': 'NR1-NR35',
  'great-yarmouth': 'NR30-NR31',
  'lowestoft': 'NR32-NR33',
  'king\'s-lynn': 'PE30-PE32',
  'peterborough': 'PE1-PE8',
  'cambridge': 'CB1-CB5',
  'ely': 'CB6-CB7',
  'huntingdon': 'PE28-PE29',
  'bedford': 'MK40-MK45',
  'luton': 'LU1-LU7',
  'milton-keynes': 'MK1-MK17',
  'northampton': 'NN1-NN7',
  'leicester': 'LE1-LE9',
  'loughborough': 'LE11-LE12',
  'coalville': 'LE67',
  'melton-mowbray': 'LE13',
  'harborough': 'LE16-LE17',
  'market-harborough': 'LE16',
  'oakham': 'LE15',
  'stamford': 'PE9',
  'grantham': 'NG31-NG33',
  'nottingham': 'NG1-NG9',
  'beeston': 'NG9',
  'hucknall': 'NG15',
  'mansfield': 'NG18-NG21',
  'worksop': 'S80-S81',
  'retford': 'DN22',
  'newark': 'NG22-NG24',
  'southwell': 'NG25',
  'derby': 'DE1-DE24',
  'belper': 'DE56',
  'ripley': 'DE5',
  'alfreton': 'DE55',
  'chesterfield': 'S40-S45',
  'matlock': 'DE4',
  'buxton': 'SK17',
  'glossop': 'SK13',
  'macclesfield': 'SK10-SK11',
  'stockport': 'SK1-SK99',
  'manchester': 'M1-M99',
  'salford': 'M1-M99',
  'bolton': 'BL1-BL99',
  'bury': 'BL9',
  'rochdale': 'OL1-OL99',
  'oldham': 'OL1-OL99',
  'ashton-under-lyne': 'OL6-OL7',
  'hyde': 'SK14',
  'stalybridge': 'SK15',
  'mossley': 'OL5',
  'denton': 'M34',
  'droylsden': 'M43',
  'audenshaw': 'M34',
  'failsworth': 'M35',
  'moston': 'M40',
  'blackley': 'M9',
  'harpurhey': 'M9',
  'crumpsall': 'M8',
  'cheetham': 'M8',
  'higher-blackley': 'M9',
  'broughton': 'M7',
  'kearsley': 'BL4',
  'farnworth': 'BL4',
  'little-lever': 'BL3',
  'radcliffe': 'M26',
  'whitefield': 'M45',
  'prestwich': 'M25',
  'unsworth': 'M25',
  'stand': 'M25',
  'whitefield': 'M45',
  'radcliffe': 'M26',
  'bury': 'BL9',
  'ramsbottom': 'BL0',
  'tottington': 'BL8',
  'holcombe': 'BL8',
  'north-manchester': 'M1-M99',
  'south-manchester': 'M1-M99',
  'east-manchester': 'M1-M99',
  'west-manchester': 'M1-M99',
  'central-manchester': 'M1-M99',
  'greater-manchester': 'M1-M99, BL1-BL9, OL1-OL9, SK1-SK17, WA1-WA16, WN1-WN8, PR1-PR9, FY1-FY8',
  'lancashire': 'PR1-PR9, FY1-FY8, BB1-BB12, LA1-LA23, FY1-FY8, PR1-PR9',
  'yorkshire': 'HD1-HD9, HX1-HX7, HG1-HG5, YO1-YO62, LS1-LS29, BD1-BD22, DN1-DN41, S1-S81, WF1-WF17, HG1-HG5',
  'cheshire': 'CH1-CH88, CW1-CW12, WA1-WA16, SK9-SK17',
  'derbyshire': 'DE1-DE99, S40-S45, SK17-SK23',
  'staffordshire': 'ST1-ST21, WS1-WS15, TF1-TF13, DY1-DY14, B77-B79, DE13-DE15, DE11',
  'shropshire': 'SY1-SY25, TF1-TF13',
  'worcestershire': 'WR1-WR15, B60-B98, DY10-DY14',
  'herefordshire': 'HR1-HR9',
  'gloucestershire': 'GL1-GL20',
  'oxfordshire': 'OX1-OX29, RG9',
  'berkshire': 'RG1-RG45, SL1-SL9',
  'buckinghamshire': 'HP1-HP23, MK1-MK17',
  'hertfordshire': 'AL1-AL10, SG1-SG19, EN1-EN11, WD1-WD25, CM21-CM23',
  'essex': 'CM1-CM99, CO1-CO16, SS0-SS17, IG1-IG11, RM1-RM20',
  'suffolk': 'IP1-IP33, CO10',
  'norfolk': 'NR1-NR35, PE30-PE38',
  'cambridgeshire': 'CB1-CB25, PE1-PE29',
  'bedfordshire': 'MK1-MK45, LU1-LU7',
  'northamptonshire': 'NN1-NN18',
  'leicestershire': 'LE1-LE67',
  'rutland': 'LE15',
  'lincolnshire': 'LN1-LN13, NG31-NG34, PE21-PE25',
  'nottinghamshire': 'NG1-NG25',
  'derbyshire': 'DE1-DE99, S40-S45, SK17-SK23',
  'south-yorkshire': 'S1-S81, DN1-DN41',
  'west-yorkshire': 'HD1-HD9, HX1-HX7, LS1-LS29, WF1-WF17',
  'north-yorkshire': 'YO1-YO62, HG1-HG5',
  'east-yorkshire': 'YO1-YO62, HU1-HU20',
  'north-east': 'NE1-NE99, SR1-SR9, DH1-DH9, TS1-TS30, DL1-DL17',
  'north-west': 'M1-M99, BL1-BL9, OL1-OL9, SK1-SK17, WA1-WA16, WN1-WN8, PR1-PR9, FY1-FY8, BB1-BB12, LA1-LA23',
  'yorkshire-and-humber': 'HD1-HD9, HX1-HX7, HG1-HG5, YO1-YO62, LS1-LS29, BD1-BD22, DN1-DN41, S1-S81, WF1-WF17, HU1-HU20',
  'east-midlands': 'DE1-DE99, LE1-LE67, NG1-NG25, PE1-PE29, S40-S45, SK17-SK23',
  'west-midlands': 'B1-B99, CV1-CV47, DY1-DY14, WR1-WR15, WS1-WS15, TF1-TF13, ST1-ST21',
  'east-of-england': 'CB1-CB25, CM1-CM99, CO1-CO16, IP1-IP33, NR1-NR35, PE1-PE38',
  'london': 'E1-E20, EC1A-EC4Y, N1-N22, NW1-NW11, SE1-SE28, SW1-SW20, W1-W14, WC1A-WC2N',
  'south-east': 'AL1-AL10, BR1-BR8, CR0-CR9, CT1-CT21, DA1-DA18, GU1-GU47, HA0-HA9, HP1-HP23, IG1-IG11, KT1-KT24, ME1-ME20, MK1-MK45, OX1-OX29, PO1-PO22, RG1-RG45, RH1-RH20, RM1-RM20, SL1-SL9, SM1-SM7, SS0-SS17, TN1-TN40, TW1-TW20, UB1-UB11, WD1-WD25',
  'south-west': 'BA1-BA22, BH1-BH31, BS1-BS49, CF31-CF83, EX1-EX39, GL1-GL20, HR1-HR9, NP1-NP26, PL1-PL35, SA1-SA73, SN1-SN16, SP1-SP11, TA1-TA21, TR1-TR27',
  'wales': 'CF1-CF83, LL15-LL77, NP1-NP26, SA1-SA73, SY15-SY25',
  'scotland': 'AB1-AB56, DD1-DD11, DG1-DG16, EH1-EH55, FK1-FK21, G1-G84, HS1-HS9, IV1-IV63, KA1-KA30, KW1-KW17, KY1-KY16, ML1-ML12, PA1-PA80, PH1-PH50, TD1-TD15, ZE1-ZE3',
  'northern-ireland': 'BT1-BT94',
  'isle-of-man': 'IM1-IM9',
  'channel-islands': 'JE1-JE4, GY1-GY10',
  'united-kingdom': 'All postcodes'
};

// Update the postcodes in the locations data
locationsData.areas.forEach(area => {
  if (postcodeMapping[area.id]) {
    area.postcode = postcodeMapping[area.id];
  } else {
    // If no specific postcode mapping is found, use a generic one based on the region
    if (area.id.includes('manchester')) {
      area.postcode = 'M1-M99';
    } else if (area.id.includes('liverpool')) {
      area.postcode = 'L1-L99';
    } else if (area.id.includes('leeds')) {
      area.postcode = 'LS1-LS99';
    } else if (area.id.includes('sheffield')) {
      area.postcode = 'S1-S99';
    } else if (area.id.includes('birmingham')) {
      area.postcode = 'B1-B99';
    } else if (area.id.includes('london')) {
      area.postcode = 'E1-E20, EC1A-EC4Y, N1-N22, NW1-NW11, SE1-SE28, SW1-SW20, W1-W14, WC1A-WC2N';
    } else {
      // Default to a generic UK postcode if no specific mapping is found
      area.postcode = 'Various UK postcodes';
    }
  }
});

// Write the updated data back to the file
fs.writeFileSync(locationsFilePath, JSON.stringify(locationsData, null, 2), 'utf8');

console.log('Postcodes updated successfully!'); 